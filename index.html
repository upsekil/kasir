<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>F2POS - Aplikasi Konter HP Online</title>
    
    <!-- LIBRARIES (CDN) -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.sheetjs.com/xlsx-0.20.0/package/dist/xlsx.full.min.js"></script>
    <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
        .glass-effect { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .modal-enter-active, .modal-leave-active { transition: opacity 0.3s ease; }
        .modal-enter-from, .modal-leave-to { opacity: 0; }
        
        /* Loading Overlay */
        .loading-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255,255,255,0.9); z-index: 9999;
            display: flex; justify-content: center; align-items: center; flex-direction: column;
        }
        .spinner {
            border: 4px solid #f3f3f3; border-top: 4px solid #4f46e5;
            border-radius: 50%; width: 40px; height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        @keyframes slide-in {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }
        .animate-slide-in { animation: slide-in 0.3s ease-out; }
    </style>
</head>
<body>
    <div id="app" class="h-screen flex flex-col overflow-hidden">
        
        <!-- HIDDEN IFRAME FOR PRINTING -->
        <iframe id="receipt-frame" class="fixed top-0 left-0 w-0 h-0 opacity-0 pointer-events-none border-none"></iframe>

        <!-- Loading Indicator -->
        <div v-if="isLoading" class="loading-overlay">
            <div class="spinner mb-4"></div>
            <p class="text-indigo-600 font-bold text-lg animate-pulse">{{ loadingMessage }}</p>
            <p v-if="loadingSubMessage" class="text-gray-500 text-sm mt-2">{{ loadingSubMessage }}</p>
        </div>

        <!-- AUTH SCREEN -->
        <div v-if="!isLoggedIn" class="fixed inset-0 z-50 bg-gray-100 flex items-center justify-center p-4">
            <div class="bg-white rounded-2xl shadow-xl p-8 w-full max-w-md">
                <div class="text-center mb-8">
                    <div class="w-20 h-20 bg-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg">
                        <i class="fas fa-store text-3xl text-white"></i>
                    </div>
                    <h1 class="text-2xl font-bold text-gray-800">F2POS Login</h1>
                    <p class="text-gray-500 mt-2">Aplikasi Kasir Terintegrasi Google Sheet</p>
                </div>
                <form @submit.prevent="handleLogin" class="space-y-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">PIN Akses</label>
                        <input type="password" v-model="loginPin" maxlength="6" 
                            class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all text-center text-2xl tracking-widest"
                            placeholder="••••••" required autofocus>
                    </div>
                    <button type="submit" 
                        class="w-full bg-indigo-600 hover:bg-indigo-700 text-white py-3 rounded-xl font-semibold shadow-lg shadow-indigo-200 transition-all transform active:scale-95">
                        Masuk Aplikasi
                    </button>
                    <div class="text-center mt-4">
                        <button type="button" @click="resetWebAppUrl" class="text-xs text-gray-400 hover:text-indigo-500 underline">
                            Reset Database URL
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- MAIN APP -->
        <div v-else class="flex h-full relative">
            
            <!-- MOBILE MENU OVERLAY (DRAWER) -->
            <div v-if="mobileMenuOpen" class="fixed inset-0 z-40 md:hidden" role="dialog" aria-modal="true">
                <div class="fixed inset-0 bg-gray-600 bg-opacity-75 transition-opacity" @click="mobileMenuOpen = false"></div>
                <div class="fixed inset-y-0 left-0 flex flex-col w-64 bg-white shadow-xl z-50 transform transition-transform animate-slide-in">
                    <div class="p-4 flex items-center justify-between border-b border-gray-100 h-16">
                        <div class="flex items-center gap-3">
                            <div class="w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center shrink-0">
                                <i class="fas fa-bolt text-white text-xs"></i>
                            </div>
                            <span class="font-bold text-lg text-gray-800">F2POS</span>
                        </div>
                        <button @click="mobileMenuOpen = false" class="p-2 -mr-2 text-gray-500 hover:text-gray-700 rounded-lg">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    <nav class="flex-1 overflow-y-auto py-4 px-3 space-y-1">
                        <template v-for="item in menuItems" :key="item.id">
                            <button @click="activeTab = item.id; mobileMenuOpen = false" 
                                class="w-full flex items-center gap-3 px-3 py-3 rounded-xl transition-all duration-200"
                                :class="activeTab === item.id ? 'bg-indigo-50 text-indigo-600 font-medium' : 'text-gray-500 hover:bg-gray-50'">
                                <i :class="[item.icon, 'text-lg w-6 text-center']"></i>
                                <span class="text-sm font-medium">{{ item.label }}</span>
                            </button>
                        </template>
                    </nav>
                    <div class="p-4 border-t border-gray-100">
                        <button @click="handleLogout" class="w-full flex items-center gap-3 px-3 py-3 rounded-xl text-red-500 hover:bg-red-50 transition-all">
                            <i class="fas fa-sign-out-alt text-lg w-6"></i>
                            <span class="text-sm font-medium">Keluar</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- SIDEBAR (Desktop) -->
            <aside class="hidden md:flex flex-col w-64 bg-white border-r border-gray-200 z-20 transition-all duration-300" :class="{'w-20': sidebarCollapsed}">
                <div class="p-4 flex items-center justify-between border-b border-gray-100 h-16">
                    <div class="flex items-center gap-3 overflow-hidden" v-if="!sidebarCollapsed">
                        <div class="w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center shrink-0">
                            <i class="fas fa-bolt text-white text-xs"></i>
                        </div>
                        <span class="font-bold text-lg text-gray-800 truncate">F2POS</span>
                    </div>
                    <button @click="sidebarCollapsed = !sidebarCollapsed" class="p-2 rounded-lg hover:bg-gray-100 text-gray-500">
                        <i class="fas" :class="sidebarCollapsed ? 'fa-chevron-right' : 'fa-chevron-left'"></i>
                    </button>
                </div>
                <nav class="flex-1 overflow-y-auto py-4 px-3 space-y-1">
                    <template v-for="item in menuItems" :key="item.id">
                        <button @click="activeTab = item.id" 
                            class="w-full flex items-center gap-3 px-3 py-3 rounded-xl transition-all duration-200 group"
                            :class="activeTab === item.id ? 'bg-indigo-50 text-indigo-600 font-medium' : 'text-gray-500 hover:bg-gray-50'">
                            <i :class="[item.icon, 'text-lg w-6 text-center transition-colors', activeTab === item.id ? 'text-indigo-600' : 'text-gray-400 group-hover:text-gray-600']"></i>
                            <span v-if="!sidebarCollapsed" class="truncate">{{ item.label }}</span>
                        </button>
                    </template>
                </nav>
                <div class="p-4 border-t border-gray-100">
                    <button @click="handleLogout" class="w-full flex items-center gap-3 px-3 py-3 rounded-xl text-red-500 hover:bg-red-50 transition-all">
                        <i class="fas fa-sign-out-alt text-lg w-6"></i>
                        <span v-if="!sidebarCollapsed">Keluar</span>
                    </button>
                </div>
            </aside>

            <!-- CONTENT AREA -->
            <main class="flex-1 flex flex-col relative min-w-0 bg-gray-50/50">
                
                <!-- HEADER -->
                <header class="h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 sm:px-6 z-10 sticky top-0">
                    <div class="flex items-center gap-4">
                        <button @click="mobileMenuOpen = true" class="md:hidden p-2 -ml-2 text-gray-600 focus:outline-none rounded-lg hover:bg-gray-100">
                            <i class="fas fa-bars text-xl"></i>
                        </button>
                        <h2 class="text-xl font-bold text-gray-800 hidden sm:block">{{ pageTitle }}</h2>
                    </div>
                    <div class="flex items-center gap-3">
                        <button @click="loadData" class="p-2 rounded-full hover:bg-gray-100 text-gray-500" title="Sinkron Data">
                            <i class="fas fa-sync-alt" :class="{'fa-spin': isLoading}"></i>
                        </button>
                        <div class="text-right hidden sm:block mr-2">
                            <div class="text-xs text-gray-500">{{ currentDate }}</div>
                            <div class="text-sm font-bold text-indigo-600">{{ currentTime }}</div>
                        </div>
                        <button v-if="activeTab === 'pos'" @click="showMobileCart = !showMobileCart" class="relative p-2 md:hidden text-indigo-600">
                            <i class="fas fa-shopping-cart text-xl"></i>
                            <span v-if="cartTotalQty > 0" class="absolute top-0 right-0 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center border-2 border-white">
                                {{ cartTotalQty }}
                            </span>
                        </button>
                    </div>
                </header>

                <!-- DYNAMIC CONTENT -->
                <div class="flex-1 overflow-y-auto p-4 sm:p-6 scroll-smooth">
                    
                    <!-- 1. DASHBOARD -->
                    <div v-if="activeTab === 'dashboard'" class="space-y-6">
                        <!-- Stat Cards Grid -->
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <div v-for="(stat, index) in dashboardStats" :key="index" class="bg-white p-4 rounded-2xl shadow-sm border border-gray-100 transition-transform hover:scale-[1.02]">
                                <div class="flex justify-between items-start mb-2">
                                    <div :class="`p-2 rounded-lg ${stat.colorBg} ${stat.colorText}`">
                                        <i :class="stat.icon"></i>
                                    </div>
                                    <span class="text-[10px] font-bold uppercase tracking-wider text-gray-400">{{ stat.period }}</span>
                                </div>
                                <h3 class="text-xl md:text-2xl font-bold text-gray-800">{{ stat.value }}</h3>
                                <p class="text-xs text-gray-500">{{ stat.label }}</p>
                            </div>
                        </div>

                        <!-- Laporan Mingguan, Bulanan, Tahunan Summary -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                             <div class="bg-indigo-600 p-5 rounded-2xl shadow-lg text-white">
                                <div class="text-sm opacity-80 mb-1">Omset Minggu Ini</div>
                                <div class="text-2xl font-bold">{{ formatRupiah(statSummary.weekly) }}</div>
                                <div class="text-xs mt-2 opacity-70">{{ statSummary.weeklyCount }} Transaksi</div>
                             </div>
                             <div class="bg-emerald-600 p-5 rounded-2xl shadow-lg text-white">
                                <div class="text-sm opacity-80 mb-1">Omset Bulan Ini</div>
                                <div class="text-2xl font-bold">{{ formatRupiah(statSummary.monthly) }}</div>
                                <div class="text-xs mt-2 opacity-70">{{ statSummary.monthlyCount }} Transaksi</div>
                             </div>
                             <div class="bg-orange-600 p-5 rounded-2xl shadow-lg text-white">
                                <div class="text-sm opacity-80 mb-1">Omset Tahun Ini</div>
                                <div class="text-2xl font-bold">{{ formatRupiah(statSummary.yearly) }}</div>
                                <div class="text-xs mt-2 opacity-70">{{ statSummary.yearlyCount }} Transaksi</div>
                             </div>
                        </div>

                        <!-- Chart Area -->
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="font-bold text-gray-700">Grafik Penjualan (7 Hari Terakhir)</h3>
                                <button @click="loadData" class="text-xs text-indigo-600 hover:underline">Perbarui Data</button>
                            </div>
                            <div class="h-64">
                                <canvas id="salesChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- 2. POS (Point of Sale) -->
                    <div v-if="activeTab === 'pos'" class="h-full flex flex-col md:flex-row gap-6">
                        <div class="flex-1 flex flex-col h-full overflow-hidden">
                            <!-- Search & Category -->
                            <div class="bg-white p-4 rounded-2xl shadow-sm border border-gray-100 mb-4 space-y-3">
                                <div class="relative">
                                    <i class="fas fa-search absolute left-4 top-3.5 text-gray-400"></i>
                                    <input v-model="searchQuery" class="w-full pl-11 pr-12 py-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-indigo-500" placeholder="Cari nama produk atau scan barcode...">
                                    <button @click="openScanner" class="absolute right-3 top-2.5 p-1 text-gray-500 hover:text-indigo-600">
                                        <i class="fas fa-barcode text-xl"></i>
                                    </button>
                                </div>
                                <div class="flex gap-2 overflow-x-auto hide-scrollbar pb-1">
                                    <button @click="activeCategory = 'all'" :class="['px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors', activeCategory === 'all' ? 'bg-indigo-600 text-white' : 'bg-gray-100 text-gray-600 hover:bg-gray-200']">Semua</button>
                                    <button v-for="cat in categories" :key="cat.id" @click="activeCategory = cat.name" :class="['px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors', activeCategory === cat.name ? 'bg-indigo-600 text-white' : 'bg-gray-100 text-gray-600 hover:bg-gray-200']">{{ cat.name }}</button>
                                </div>
                            </div>
                            <!-- Product Grid -->
                            <div class="flex-1 overflow-y-auto">
                                <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 pb-20 md:pb-4">
                                    <div v-for="product in filteredProducts" :key="product.id" @click="addToCart(product)" class="bg-white p-3 rounded-2xl shadow-sm border border-gray-100 cursor-pointer hover:shadow-md transition-all group">
                                        <div class="h-24 flex items-center justify-center text-4xl mb-2 text-gray-200 group-hover:scale-110 transition-transform">
                                            <i class="fas fa-box"></i>
                                        </div>
                                        <h4 class="font-semibold text-gray-800 text-sm line-clamp-2 min-h-[2.5em]">{{ product.name }}</h4>
                                        <div class="flex justify-between items-center mt-2">
                                            <span class="text-indigo-600 font-bold text-sm">{{ formatRupiah(product.sellingPrice) }}</span>
                                            <span :class="['text-[10px] font-bold px-1.5 py-0.5 rounded', product.stock <= 5 ? 'bg-red-100 text-red-600' : 'bg-green-100 text-green-600']">Stok: {{ product.stock }}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Cart Sidebar -->
                        <div :class="['fixed md:static inset-y-0 right-0 w-full md:w-96 bg-white shadow-2xl md:shadow-none md:border-l border-gray-200 z-30 transform transition-transform duration-300 flex flex-col', showMobileCart ? 'translate-x-0' : 'translate-x-full md:translate-x-0']">
                            <div class="p-4 border-b border-gray-100 flex items-center justify-between">
                                <h3 class="font-bold text-lg text-gray-800">Keranjang</h3>
                                <button @click="showMobileCart = false" class="md:hidden p-2 text-gray-500"><i class="fas fa-times"></i></button>
                            </div>
                            <div class="flex-1 overflow-y-auto p-4 space-y-4">
                                <div v-if="cart.length === 0" class="h-full flex flex-col items-center justify-center text-gray-300">
                                    <i class="fas fa-shopping-basket text-6xl mb-4 opacity-20"></i>
                                    <p>Keranjang kosong</p>
                                </div>
                                <div v-for="(item, index) in cart" :key="index" class="flex gap-3 relative group bg-gray-50 p-3 rounded-xl">
                                    <div class="flex-1">
                                        <h4 class="font-medium text-gray-800 text-sm line-clamp-1">{{ item.name }}</h4>
                                        <p class="text-xs text-indigo-600 font-bold mb-2">{{ formatRupiah(item.sellingPrice) }}</p>
                                        <div class="flex items-center gap-3">
                                            <button @click="updateQty(item, -1)" class="w-6 h-6 rounded bg-white border flex items-center justify-center text-xs">-</button>
                                            <span class="text-sm font-bold">{{ item.qty }}</span>
                                            <button @click="updateQty(item, 1)" class="w-6 h-6 rounded bg-indigo-600 text-white flex items-center justify-center text-xs">+</button>
                                        </div>
                                    </div>
                                    <button @click="removeFromCart(index)" class="text-red-400 hover:text-red-600"><i class="fas fa-trash-alt"></i></button>
                                </div>
                            </div>
                            <div class="p-4 bg-gray-50 border-t">
                                <div class="flex justify-between mb-4 text-xl font-bold">
                                    <span>Total</span>
                                    <span class="text-indigo-600">{{ formatRupiah(cartSubtotal) }}</span>
                                </div>
                                <div class="grid grid-cols-2 gap-3">
                                    <button @click="clearCart" :disabled="cart.length === 0" class="py-3 rounded-xl border font-medium hover:bg-red-50 text-red-500 disabled:opacity-30">Batal</button>
                                    <button @click="openCheckout" :disabled="cart.length === 0" class="py-3 rounded-xl bg-indigo-600 text-white font-bold hover:bg-indigo-700 disabled:opacity-50">Bayar</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 3. PRODUCTS MANAGEMENT -->
                    <div v-if="activeTab === 'products'" class="space-y-4">
                        <div class="flex flex-col md:flex-row justify-between items-center gap-3">
                            <div class="relative max-w-xs w-full">
                                <i class="fas fa-search absolute left-3 top-3 text-gray-400 text-sm"></i>
                                <input v-model="searchQuery" class="w-full pl-9 pr-4 py-2 rounded-xl border shadow-sm focus:ring-indigo-500 text-sm" placeholder="Cari produk...">
                            </div>
                            <div class="flex gap-2 w-full md:w-auto overflow-x-auto hide-scrollbar">
                                <button @click="downloadTemplate" class="bg-gray-100 px-3 py-2 rounded-xl text-sm font-semibold whitespace-nowrap"><i class="fas fa-file-download mr-1"></i> Template</button>
                                <button @click="$refs.fileInput.click()" class="bg-green-600 text-white px-3 py-2 rounded-xl text-sm font-semibold whitespace-nowrap"><i class="fas fa-file-upload mr-1"></i> Import</button>
                                <input type="file" ref="fileInput" class="hidden" @change="importProducts">
                                <button @click="exportProducts" class="bg-blue-600 text-white px-3 py-2 rounded-xl text-sm font-semibold"><i class="fas fa-file-export mr-1"></i> Export</button>
                                <button @click="openProductModal()" class="bg-indigo-600 text-white px-4 py-2 rounded-xl text-sm font-semibold">Tambah</button>
                            </div>
                        </div>
                        <div class="bg-white rounded-2xl shadow-sm border overflow-hidden">
                            <table class="w-full text-left text-sm">
                                <thead class="bg-gray-50 border-b">
                                    <tr>
                                        <th class="px-6 py-4">Produk</th>
                                        <th class="px-6 py-4">Kategori</th>
                                        <th class="px-6 py-4 text-right">Harga Jual</th>
                                        <th class="px-6 py-4 text-center">Stok</th>
                                        <th class="px-6 py-4 text-center">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y">
                                    <tr v-for="product in filteredProducts" :key="product.id" class="hover:bg-gray-50">
                                        <td class="px-6 py-4 font-medium">{{ product.name }}<br><span class="text-xs text-gray-400">{{product.barcode}}</span></td>
                                        <td class="px-6 py-4"><span class="bg-gray-100 px-2 py-1 rounded text-xs">{{ product.category }}</span></td>
                                        <td class="px-6 py-4 text-right font-bold">{{ formatRupiah(product.sellingPrice) }}</td>
                                        <td class="px-6 py-4 text-center">
                                            <span :class="['px-2 py-1 rounded-full text-[10px] font-bold', product.stock <= 5 ? 'bg-red-100 text-red-600' : 'bg-green-100 text-green-600']">{{ product.stock }}</span>
                                        </td>
                                        <td class="px-6 py-4 text-center">
                                            <button @click="openProductModal(product)" class="p-2 text-blue-500 hover:bg-blue-50 rounded-lg mr-1"><i class="fas fa-edit"></i></button>
                                            <button @click="deleteProduct(product.id)" class="p-2 text-red-500 hover:bg-red-50 rounded-lg"><i class="fas fa-trash"></i></button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                     <!-- 4. TRANSACTIONS -->
                     <div v-if="activeTab === 'transactions'" class="space-y-4">
                        <div class="flex flex-col md:flex-row justify-between items-center gap-3">
                            <div class="flex gap-2">
                                <button v-for="p in ['Semua', 'Minggu Ini', 'Bulan Ini', 'Tahun Ini']" 
                                    @click="trxPeriod = p"
                                    :class="['px-3 py-1.5 rounded-lg text-xs font-bold transition-all', trxPeriod === p ? 'bg-indigo-600 text-white' : 'bg-white text-gray-600 border']">
                                    {{ p }}
                                </button>
                            </div>
                            <button @click="exportTransactions" class="bg-green-600 text-white px-4 py-2 rounded-xl text-sm font-semibold"><i class="fas fa-file-excel mr-2"></i>Export Laporan</button>
                        </div>
                        <div class="bg-white rounded-2xl shadow-sm border overflow-hidden">
                            <table class="w-full text-left text-sm">
                                <thead class="bg-gray-50 border-b">
                                    <tr>
                                        <th class="px-6 py-4">Invoice</th>
                                        <th class="px-6 py-4">Waktu</th>
                                        <th class="px-6 py-4 text-right">Total</th>
                                        <th class="px-6 py-4 text-center">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y">
                                    <tr v-for="trx in filteredTransactions" :key="trx.invoice" class="hover:bg-gray-50">
                                        <td class="px-6 py-4 font-mono text-xs uppercase">{{ trx.invoice }}</td>
                                        <td class="px-6 py-4 text-gray-600">
                                            <div class="font-medium text-xs">{{ trx.date }}</div>
                                            <div class="text-[10px] opacity-60">{{ trx.time }}</div>
                                        </td>
                                        <td class="px-6 py-4 text-right font-bold text-indigo-600">{{ formatRupiah(trx.total) }}</td>
                                        <td class="px-6 py-4 text-center">
                                             <button @click="printReceipt(trx)" class="p-2 text-gray-400 hover:text-indigo-600"><i class="fas fa-print"></i></button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- 5. SETTINGS -->
                    <div v-if="activeTab === 'settings'" class="max-w-2xl mx-auto space-y-6 pb-10">
                        <div class="bg-white p-6 rounded-2xl shadow-sm border">
                            <h3 class="font-bold text-lg mb-4 border-b pb-2">Pengaturan Toko</h3>
                            <div class="space-y-4">
                                <div class="flex items-center gap-4 bg-gray-50 p-4 rounded-xl border border-dashed border-gray-300">
                                    <div class="w-16 h-16 bg-white rounded-lg flex items-center justify-center overflow-hidden border">
                                        <img v-if="settings.logo" :src="settings.logo" class="w-full h-full object-contain">
                                        <i v-else class="fas fa-image text-gray-300 text-2xl"></i>
                                    </div>
                                    <div class="flex-1">
                                        <h4 class="text-sm font-medium">Logo Struk</h4>
                                        <div class="flex gap-2 mt-2">
                                            <button @click="$refs.logoInput.click()" class="px-3 py-1 bg-white border rounded-lg text-xs font-medium">Upload</button>
                                            <button v-if="settings.logo" @click="settings.logo = ''" class="px-3 py-1 text-red-500 text-xs">Hapus</button>
                                        </div>
                                        <input type="file" ref="logoInput" class="hidden" accept="image/*" @change="handleLogoUpload">
                                    </div>
                                </div>
                                <div><label class="block text-xs font-bold text-gray-500 mb-1">Nama Toko</label><input v-model="settings.storeName" class="w-full px-4 py-2 border rounded-xl"></div>
                                <div><label class="block text-xs font-bold text-gray-500 mb-1">Alamat</label><textarea v-model="settings.storeAddress" class="w-full px-4 py-2 border rounded-xl" rows="2"></textarea></div>
                                <div><label class="block text-xs font-bold text-gray-500 mb-1">Footer Struk</label><input v-model="settings.receiptFooter" class="w-full px-4 py-2 border rounded-xl"></div>
                                <div class="pt-4 border-t mt-4">
                                     <label class="block text-xs font-bold text-indigo-500 mb-1">URL Google Database</label>
                                     <div class="flex gap-2">
                                        <input v-model="inputUrl" class="flex-1 px-4 py-2 border rounded-xl font-mono text-xs truncate" placeholder="https://script.google.com/...">
                                        <button @click="copyDbUrl" class="px-4 py-2 bg-gray-100 rounded-xl"><i class="fas fa-copy"></i></button>
                                     </div>
                                </div>
                                <button @click="saveSettings" class="w-full bg-indigo-600 text-white py-3 rounded-xl font-bold mt-4">Simpan Pengaturan</button>
                            </div>
                        </div>
                    </div>

                </div>
            </main>
        </div>

        <!-- MODAL CHECKOUT -->
        <div v-if="modals.checkout" class="fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/50 p-4 sm:p-0 backdrop-blur-sm">
            <div class="bg-white w-full sm:w-[450px] rounded-t-2xl sm:rounded-2xl p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold text-gray-800">Pembayaran</h3>
                    <button @click="modals.checkout = false" class="text-gray-400"><i class="fas fa-times"></i></button>
                </div>
                <div class="text-center mb-8 bg-indigo-50 py-6 rounded-2xl">
                    <p class="text-gray-500 text-xs font-bold uppercase tracking-wider mb-1">Total Tagihan</p>
                    <h2 class="text-4xl font-bold text-indigo-600">{{ formatRupiah(cartSubtotal) }}</h2>
                </div>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium mb-1">Uang Diterima</label>
                        <input type="number" v-model="cashReceived" id="cashInput" class="w-full px-4 py-3 text-xl font-bold border rounded-xl focus:ring-2 focus:ring-indigo-500" placeholder="0">
                    </div>
                    <div class="grid grid-cols-3 gap-2">
                        <button @click="cashReceived = cartSubtotal" class="py-2 bg-gray-100 rounded-lg text-xs font-bold">Uang Pas</button>
                        <button v-for="amt in [50000, 100000]" @click="cashReceived = amt" class="py-2 bg-gray-100 rounded-lg text-xs font-bold">{{ formatRupiah(amt) }}</button>
                    </div>
                    <div v-if="cashReceived > 0" class="flex justify-between items-center p-4 bg-gray-50 rounded-xl">
                        <span class="text-xs font-bold text-gray-500">KEMBALIAN</span>
                        <span class="text-xl font-bold text-indigo-600">{{ formatRupiah(Math.max(0, cashReceived - cartSubtotal)) }}</span>
                    </div>
                    <button @click="processTransaction" :disabled="cashReceived < cartSubtotal" class="w-full bg-indigo-600 text-white py-4 rounded-xl font-bold text-lg disabled:opacity-50">Bayar & Cetak</button>
                </div>
            </div>
        </div>

        <!-- MODAL PRODUK -->
        <div v-if="modals.product" class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm">
            <div class="bg-white w-full max-w-md rounded-2xl p-6 shadow-2xl">
                <h3 class="text-xl font-bold mb-4 border-b pb-2">{{ isEditing ? 'Edit Produk' : 'Tambah Produk Baru' }}</h3>
                <div class="space-y-4 max-h-[70vh] overflow-y-auto pr-2">
                    <div><label class="text-xs font-bold text-gray-400 block mb-1">BARCODE / SKU</label><div class="flex gap-2"><input v-model="productForm.barcode" class="flex-1 px-3 py-2 border rounded-lg focus:ring-indigo-500"><button @click="openScanner" class="px-3 bg-gray-100 rounded-lg"><i class="fas fa-barcode"></i></button></div></div>
                    <div><label class="text-xs font-bold text-gray-400 block mb-1">NAMA PRODUK</label><input v-model="productForm.name" class="w-full px-3 py-2 border rounded-lg focus:ring-indigo-500"></div>
                    <div><label class="text-xs font-bold text-gray-400 block mb-1">KATEGORI</label><select v-model="productForm.category" class="w-full px-3 py-2 border rounded-lg"><option v-for="cat in categories" :value="cat.name">{{ cat.name }}</option></select></div>
                    <div class="grid grid-cols-2 gap-4">
                        <div><label class="text-xs font-bold text-gray-400 block mb-1">HARGA BELI</label><input type="number" v-model="productForm.purchasePrice" class="w-full px-3 py-2 border rounded-lg"></div>
                        <div><label class="text-xs font-bold text-gray-400 block mb-1">HARGA JUAL</label><input type="number" v-model="productForm.sellingPrice" class="w-full px-3 py-2 border rounded-lg"></div>
                    </div>
                    <div><label class="text-xs font-bold text-gray-400 block mb-1">STOK SAAT INI</label><input type="number" v-model="productForm.stock" class="w-full px-3 py-2 border rounded-lg"></div>
                </div>
                <div class="flex gap-3 mt-6">
                    <button @click="modals.product = false" class="flex-1 py-3 border rounded-xl font-bold text-gray-500">Batal</button>
                    <button @click="saveProduct" class="flex-1 py-3 bg-indigo-600 text-white rounded-xl font-bold">Simpan Data</button>
                </div>
            </div>
        </div>

        <!-- SCANNER MODAL -->
        <div v-if="modals.scanner" class="fixed inset-0 z-50 flex items-center justify-center bg-black">
            <div class="w-full max-w-lg relative">
                <div id="reader" class="w-full"></div>
                <button @click="closeScanner" class="absolute top-4 right-4 bg-white/20 text-white p-2 rounded-full"><i class="fas fa-times text-xl"></i></button>
            </div>
        </div>

    </div>

    <script>
        const { createApp, ref, computed, onMounted, watch, nextTick, reactive } = Vue;

        createApp({
            setup() {
                const WEB_APP_URL = ref(localStorage.getItem('f2pos_api_url') || 'https://script.google.com/macros/s/AKfycbxR9EESzj6BonqTwyEqni9IJHhGX3vq4WZPctgk7gFJtvOrUuybIrWaNbpDFMqZAWx69A/exec');
                const inputUrl = ref(WEB_APP_URL.value);
                const isLoading = ref(false);
                const loadingMessage = ref('Memuat...');
                const loadingSubMessage = ref('');
                const isOffline = ref(!navigator.onLine);
                const isLoggedIn = ref(false);
                const loginPin = ref('');
                const sidebarCollapsed = ref(false);
                const mobileMenuOpen = ref(false);
                const showMobileCart = ref(false);
                const activeTab = ref('dashboard');
                const trxPeriod = ref('Semua');
                
                const products = ref([]);
                const categories = ref([]);
                const transactions = ref([]);
                const settings = reactive({ storeName: 'F2 CELL', storeAddress: 'Jl. Contoh No. 123', receiptFooter: 'Terima Kasih', pin: '123456', logo: localStorage.getItem('f2pos_logo') || '' });

                const cart = ref([]);
                const searchQuery = ref('');
                const activeCategory = ref('all');
                const cashReceived = ref('');
                const modals = reactive({ checkout: false, product: false, scanner: false });
                const isEditing = ref(false);
                const productForm = reactive({ id: null, barcode: '', name: '', category: 'Umum', purchasePrice: 0, sellingPrice: 0, stock: 0 });
                let html5QrcodeScanner = null;

                // --- COMPUTED STATS ---
                const statSummary = computed(() => {
                    const now = new Date();
                    
                    // Helper function: check if date is within last X days or same month/year
                    const getPeriodTrx = (type) => {
                        return transactions.value.filter(t => {
                            const d = new Date(t.date);
                            if (type === 'week') {
                                const diff = (now - d) / (1000 * 60 * 60 * 24);
                                return diff <= 7;
                            }
                            if (type === 'month') return d.getMonth() === now.getMonth() && d.getFullYear() === now.getFullYear();
                            if (type === 'year') return d.getFullYear() === now.getFullYear();
                            return false;
                        });
                    };

                    const weekly = getPeriodTrx('week');
                    const monthly = getPeriodTrx('month');
                    const yearly = getPeriodTrx('year');

                    return {
                        weekly: weekly.reduce((s, t) => s + Number(t.total), 0),
                        weeklyCount: weekly.length,
                        monthly: monthly.reduce((s, t) => s + Number(t.total), 0),
                        monthlyCount: monthly.length,
                        yearly: yearly.reduce((s, t) => s + Number(t.total), 0),
                        yearlyCount: yearly.length
                    };
                });

                const dashboardStats = computed(() => {
                    const todayStr = new Date().toISOString().slice(0, 10);
                    const todayTrx = transactions.value.filter(t => t.date === todayStr);
                    const todayTotal = todayTrx.reduce((s, t) => s + Number(t.total), 0);

                    return [
                        { label: 'Omset Hari Ini', value: formatRupiah(todayTotal), icon: 'fas fa-wallet', colorBg: 'bg-indigo-100', colorText: 'text-indigo-600', period: 'Hari Ini' },
                        { label: 'Total Transaksi', value: todayTrx.length, icon: 'fas fa-shopping-bag', colorBg: 'bg-blue-100', colorText: 'text-blue-600', period: 'Hari Ini' },
                        { label: 'Omset Bulan Ini', value: formatRupiah(statSummary.value.monthly), icon: 'fas fa-chart-line', colorBg: 'bg-emerald-100', colorText: 'text-emerald-600', period: 'Bulan Ini' },
                        { label: 'Produk Low Stok', value: products.value.filter(p => p.stock <= 5).length, icon: 'fas fa-exclamation-triangle', colorBg: 'bg-red-100', colorText: 'text-red-600', period: 'Alert' }
                    ];
                });

                // --- FILTERS ---
                const filteredProducts = computed(() => {
                    let res = products.value;
                    if (activeCategory.value !== 'all') res = res.filter(p => p.category === activeCategory.value);
                    if (searchQuery.value) {
                        const q = searchQuery.value.toLowerCase();
                        res = res.filter(p => p.name.toLowerCase().includes(q) || p.barcode.includes(q));
                    }
                    return res;
                });

                const filteredTransactions = computed(() => {
                    let res = [...transactions.value].reverse();
                    const now = new Date();
                    if (trxPeriod.value === 'Minggu Ini') {
                        res = res.filter(t => (now - new Date(t.date)) / (1000 * 24 * 3600) <= 7);
                    } else if (trxPeriod.value === 'Bulan Ini') {
                        res = res.filter(t => new Date(t.date).getMonth() === now.getMonth());
                    } else if (trxPeriod.value === 'Tahun Ini') {
                        res = res.filter(t => new Date(t.date).getFullYear() === now.getFullYear());
                    }
                    return res;
                });

                const cartSubtotal = computed(() => cart.value.reduce((s, i) => s + (i.sellingPrice * i.qty), 0));
                const cartTotalQty = computed(() => cart.value.reduce((s, i) => s + i.qty, 0));

                // --- API & DATA ---
                async function callApi(action, payload = {}, id = null) {
                    isLoading.value = true;
                    try {
                        let resp;
                        if (action === 'getAll') resp = await fetch(`${WEB_APP_URL.value}?action=getAll`);
                        else resp = await fetch(WEB_APP_URL.value, { method: 'POST', body: JSON.stringify({ action, payload, id, updatedProducts: payload.updatedProducts }) });
                        const data = await resp.json();
                        isLoading.value = false;
                        return data;
                    } catch (e) {
                        console.error(e); isLoading.value = false;
                        Swal.fire('Koneksi Gagal', 'Gagal terhubung ke Google Sheet.', 'error');
                        return null;
                    }
                }

                async function loadData() {
                    const data = await callApi('getAll');
                    if (data) {
                        products.value = data.products || [];
                        transactions.value = data.transactions || [];
                        categories.value = data.categories.length ? data.categories : [{id:1, name:'Umum'}, {id:2, name:'Pulsa'}, {id:3, name:'Aksesoris'}];
                        if (data.settings) {
                            const logoTemp = settings.logo;
                            Object.assign(settings, data.settings);
                            settings.logo = logoTemp;
                        }
                        initChart();
                    }
                }

                // --- POS ACTIONS ---
                function addToCart(p) {
                    if (p.stock <= 0) return Swal.fire('Habis', 'Stok produk ini kosong.', 'warning');
                    const exists = cart.value.find(i => i.id === p.id);
                    if (exists) {
                        if (exists.qty < p.stock) exists.qty++;
                        else Swal.fire('Limit', 'Mencapai batas stok.', 'warning');
                    } else { cart.value.push({ ...p, qty: 1 }); }
                }

                function updateQty(item, d) {
                    const p = products.value.find(x => x.id === item.id);
                    if (item.qty + d > p.stock) return Swal.fire('Stok Kurang', '', 'warning');
                    if (item.qty + d > 0) item.qty += d;
                    else removeFromCart(cart.value.indexOf(item));
                }

                function removeFromCart(i) { cart.value.splice(i, 1); }
                function clearCart() { cart.value = []; }
                function openCheckout() { cashReceived.value = ''; modals.checkout = true; nextTick(() => document.getElementById('cashInput')?.focus()); }

                async function processTransaction() {
                    if (cashReceived.value < cartSubtotal.value) return;
                    const trx = {
                        invoice: 'F2-' + Date.now(),
                        date: new Date().toISOString().slice(0, 10),
                        time: new Date().toLocaleTimeString('id-ID'),
                        items: JSON.stringify(cart.value.map(i => ({ name: i.name, qty: i.qty, price: i.sellingPrice }))),
                        total: cartSubtotal.value,
                        payAmount: cashReceived.value,
                        change: cashReceived.value - cartSubtotal.value
                    };
                    const updated = [];
                    cart.value.forEach(i => {
                        const p = products.value.find(x => x.id === i.id);
                        if(p) { p.stock -= i.qty; updated.push(p); }
                    });
                    transactions.value.push(trx);
                    const res = await callApi('saveTransaction', { ...trx, updatedProducts: updated });
                    if (res?.success) { modals.checkout = false; printReceipt(trx); clearCart(); Swal.fire({ icon: 'success', title: 'Transaksi Berhasil', timer: 1000, showConfirmButton: false }); }
                }

                // --- PRODUCT ACTIONS ---
                function openProductModal(p = null) {
                    isEditing.value = !!p;
                    if (p) Object.assign(productForm, p);
                    else Object.assign(productForm, { id: Date.now().toString(), barcode: '', name: '', category: 'Umum', purchasePrice: 0, sellingPrice: 0, stock: 0 });
                    modals.product = true;
                }
                async function saveProduct() {
                    const res = await callApi('saveProduct', productForm);
                    if (res?.success) { modals.product = false; loadData(); }
                }
                async function deleteProduct(id) {
                    const confirm = await Swal.fire({ title: 'Hapus?', icon: 'warning', showCancelButton: true });
                    if (confirm.isConfirmed) { await callApi('deleteProduct', {}, id); loadData(); }
                }

                // --- UI UTILS ---
                function handleLogin() { 
                    if (loginPin.value === settings.pin) { isLoggedIn.value = true; loadData(); } 
                    else Swal.fire('PIN Salah', '', 'error');
                }
                function handleLogout() { isLoggedIn.value = false; loginPin.value = ''; }
                function formatRupiah(n) { return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(n); }
                function resetWebAppUrl() { localStorage.removeItem('f2pos_api_url'); location.reload(); }
                function copyDbUrl() { navigator.clipboard.writeText(WEB_APP_URL.value); Swal.fire({ icon: 'success', title: 'URL Disalin', timer: 1000, showConfirmButton: false }); }
                function saveSettings() { localStorage.setItem('f2pos_api_url', inputUrl.value); WEB_APP_URL.value = inputUrl.value; callApi('saveSettings', settings).then(res => { if(res?.success) Swal.fire('Disimpan', '', 'success'); }); }

                function handleLogoUpload(e) {
                    const file = e.target.files[0];
                    if(file && file.size < 500000) {
                        const r = new FileReader();
                        r.onload = (ev) => { settings.logo = ev.target.result; localStorage.setItem('f2pos_logo', ev.target.result); };
                        r.readAsDataURL(file);
                    } else { Swal.fire('Gagal', 'File terlalu besar (Maks 500KB)', 'warning'); }
                }

                function openScanner() {
                    modals.scanner = true;
                    nextTick(() => {
                        html5QrcodeScanner = new Html5Qrcode("reader");
                        html5QrcodeScanner.start({ facingMode: "environment" }, { fps: 10, qrbox: 250 }, (text) => {
                            if (modals.product) { productForm.barcode = text; closeScanner(); }
                            else { 
                                searchQuery.value = text; closeScanner(); 
                                const p = products.value.find(x => x.barcode === text);
                                if(p) { addToCart(p); searchQuery.value = ''; }
                            }
                        });
                    });
                }
                function closeScanner() { if(html5QrcodeScanner) html5QrcodeScanner.stop().then(() => { html5QrcodeScanner.clear(); modals.scanner = false; }); }

                function printReceipt(trx) {
                    const iframe = document.getElementById('receipt-frame');
                    const items = (typeof trx.items === 'string') ? JSON.parse(trx.items) : trx.items;
                    const logo = settings.logo ? `<img src="${settings.logo}" style="max-width:50%; margin-bottom:10px;">` : '';
                    const content = `<html><head><style>body{font-family:'Courier New',monospace;font-size:12px;width:58mm;margin:0;padding:5px}table{width:100%}.text-center{text-align:center}.text-right{text-align:right}hr{border-top:1px dashed #000}</style></head>
                        <body><div class="text-center">${logo}<br><b>${settings.storeName}</b><br>${settings.storeAddress}</div><hr>
                        <div>No: ${trx.invoice}<br>Tgl: ${trx.date} ${trx.time}</div><hr>
                        <table>${items.map(i => `<tr><td>${i.name} x${i.qty}</td><td class="text-right">${formatRupiah(i.price * i.qty)}</td></tr>`).join('')}</table><hr>
                        <table><tr><td>Total</td><td class="text-right"><b>${formatRupiah(trx.total)}</b></td></tr><tr><td>Bayar</td><td class="text-right">${formatRupiah(trx.payAmount)}</td></tr><tr><td>Kembali</td><td class="text-right">${formatRupiah(trx.change)}</td></tr></table><hr>
                        <div class="text-center">${settings.receiptFooter}</div></body></html>`;
                    const doc = iframe.contentWindow.document;
                    doc.open(); doc.write(content); doc.close();
                    setTimeout(() => { iframe.contentWindow.focus(); iframe.contentWindow.print(); }, 500);
                }

                function initChart() {
                    const ctx = document.getElementById('salesChart');
                    if (!ctx) return;
                    const dates = [...Array(7)].map((_, i) => { const d = new Date(); d.setDate(d.getDate() - (6 - i)); return d.toISOString().slice(0, 10); });
                    const values = dates.map(d => transactions.value.filter(t => t.date === d).reduce((s, t) => s + Number(t.total), 0));
                    if (Chart.getChart("salesChart")) Chart.getChart("salesChart").destroy();
                    new Chart(ctx, {
                        type: 'line',
                        data: { labels: dates.map(d => d.slice(5)), datasets: [{ label: 'Omset', data: values, borderColor: '#4f46e5', backgroundColor: 'rgba(79, 70, 229, 0.1)', fill: true, tension: 0.4 }] },
                        options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } }
                    });
                }

                // --- EXCEL ---
                function downloadTemplate() { 
                    const ws = XLSX.utils.json_to_sheet([{ barcode: "123", name: "Contoh", category: "Umum", purchasePrice: 1000, sellingPrice: 2000, stock: 10 }]);
                    const wb = XLSX.utils.book_new(); XLSX.utils.book_append_sheet(wb, ws, "Produk"); XLSX.writeFile(wb, "Template_Produk.xlsx");
                }
                function exportProducts() {
                    const ws = XLSX.utils.json_to_sheet(products.value);
                    const wb = XLSX.utils.book_new(); XLSX.utils.book_append_sheet(wb, ws, "Stok"); XLSX.writeFile(wb, "Data_Stok.xlsx");
                }
                function exportTransactions() {
                    const ws = XLSX.utils.json_to_sheet(filteredTransactions.value);
                    const wb = XLSX.utils.book_new(); XLSX.utils.book_append_sheet(wb, ws, "Laporan"); XLSX.writeFile(wb, "Laporan_Transaksi.xlsx");
                }

                onMounted(() => { 
                    const savedPin = localStorage.getItem('f2pos_pin');
                    if(savedPin) settings.pin = savedPin;
                });

                watch(activeTab, (v) => { if(v === 'dashboard') nextTick(initChart); });

                return {
                    isLoading, loadingMessage, loadingSubMessage, isOffline, isLoggedIn, loginPin, sidebarCollapsed, mobileMenuOpen, showMobileCart, activeTab, trxPeriod,
                    products, transactions, categories, settings, cart, searchQuery, activeCategory, cashReceived, modals, isEditing, productForm,
                    dashboardStats, filteredProducts, filteredTransactions, cartSubtotal, cartTotalQty, statSummary,
                    handleLogin, handleLogout, formatRupiah, resetWebAppUrl, copyDbUrl, saveSettings, handleLogoUpload,
                    addToCart, updateQty, removeFromCart, clearCart, openCheckout, processTransaction,
                    openProductModal, saveProduct, deleteProduct, openScanner, closeScanner, loadData,
                    printReceipt, downloadTemplate, exportProducts, exportTransactions,
                    menuItems: [
                        { id: 'dashboard', label: 'Dashboard', icon: 'fas fa-home' },
                        { id: 'pos', label: 'Kasir', icon: 'fas fa-cash-register' },
                        { id: 'products', label: 'Produk', icon: 'fas fa-box' },
                        { id: 'transactions', label: 'Riwayat', icon: 'fas fa-history' },
                        { id: 'settings', label: 'Pengaturan', icon: 'fas fa-cog' }
                    ],
                    pageTitle: computed(() => {
                        if(activeTab.value === 'dashboard') return 'Laporan Dashboard';
                        if(activeTab.value === 'pos') return 'Mesin Kasir';
                        if(activeTab.value === 'products') return 'Manajemen Stok';
                        if(activeTab.value === 'transactions') return 'Riwayat Transaksi';
                        return 'Pengaturan Aplikasi';
                    }),
                    currentDate: ref(new Date().toLocaleDateString('id-ID', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' })),
                    currentTime: ref(new Date().toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' })),
                    inputUrl
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
